<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script><script>AFRAME.registerComponent("orbit",{schema:{ir:{type:"number"},or:{type:"number"}},multiple:!0,init:function(){console.log(this);let a=this.el,b=[];for(let c=0;3>c;c++)b[c]=document.createElement("a-ring"),b[c].setAttribute("radius-outer",this.data.or),b[c].setAttribute("radius-inner",this.data.ir),b[c].setAttribute("color","red"),b[c].setAttribute("opacity","0.5"),b[c].setAttribute("material","side:double"),a.appendChild(b[c]);b[0].setAttribute("rotation","0 0 0"),b[1].setAttribute("rotation","0 90 90"),b[2].setAttribute("rotation","90 90 0"),this.orbits=b}}),AFRAME.registerComponent("moon",{dependencies:["position","camera","look-controls"],init:function(){this.d=2*Math.PI/1000,this.state=0,this.time=0,this.angle=0,this.movement={},this.el.querySelector("a-entity[cursor]").addEventListener("click",(a)=>{console.log(a);let b=a.detail.intersection,c=this.el.getAttribute("position"),d=1e3*b.distance/15.7,e={};e.x=(b.point.x-c.x)/(d/10),e.y=(b.point.y-c.y)/(d/10),e.z=(b.point.z-c.z)/(d/10),e.dest=b.point,this.movement=e,this.state=1})},tick:function(a){if(!(10>a-this.time)){let a=this.el;switch(this.state){case 0:let b=a.getAttribute("position"),c=this.computeLoc(b.x,b.y,this.angle);this.angle=c.a,a.setAttribute("position",{x:c.x,y:c.y});break;case 1:let d=this.movement,e=a.getAttribute("position");a.setAttribute("position",{x:e.x+d.x,y:e.y+d.y,z:e.z+d.z});}}},computeLoc:function(b,c,d){let a=(d+this.d)%(2*Math.PI);return{a:a,x:50*Math.cos(a),y:50*Math.sin(a)}}});</script><a-scene><a-sphere position="0 0 0" radius="4" color="#4CC3D9"></a-sphere><a-sphere orbit="ir:4;or:30" position="100 0 0" radius="4" color="#93D4CC"></a-sphere><a-entity moon camera position="50 0 0" look-controls><a-entity cursor="fuse: false" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat"></a-entity></a-entity></a-scene><script></script>